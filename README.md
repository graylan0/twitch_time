# Twitch Time
DEMO: 4 Dimentional SpaceTime Tracking Matrix (for character locations and remote data simulation system)

![image](https://github.com/graylan0/twitch_time/assets/34530588/a678f5c4-6c0e-4b9c-95c9-47ae9738bd52)

DEMO: Simulation of ANY PART NUMBER (With Space Time 4D SYNC!) 

![image](https://github.com/graylan0/twitch_time/assets/34530588/c0e711f3-eee0-4250-bc32-6e5460093acb)

A collaborative time traveling GPT + Image Model Game

![image](https://github.com/graylan0/twitch_time/assets/34530588/b85320db-0f1e-4a1d-a266-3e9f8a075029)

![image](https://github.com/graylan0/twitch_time/assets/34530588/a0d15950-69db-4f19-9413-e95bf0dc7a2c)



Gray00: Yes, it's the technically wrong filter. But it's still a honda fuel filter. Pretty good for Quantum Internet (Sim Internet)
![image](https://github.com/graylan0/twitch_time/assets/34530588/ac01c015-8da0-4df3-ae49-7579aa24273b)

Prompt DEMO:

You find yourself in a desolate wasteland on the outskirts of a decaying city, with 4-dimensional space coordinates of X: 34, Y: 76, Z: 12, and T: 5632. You are a young and determined explorer named Alex, aged 25, with a sense of adventure and a longing for discovery. The air is thick with the scent of ash and decay, and a distant rumbling can be heard in the distance. As you look around, you see collapsed buildings, towering ruins, and an eerie silence that hangs in the air, painting the whole scene in a somber emotional coloring.

[action]can you help me find a part please

As you search for a part, you stumble upon an abandoned mechanic shop on the outskirts of the city. The entrance is partially obscured by overgrown vegetation, but you manage to push your way through. Inside, you find a dimly lit space filled with old car parts and tools. You notice a dusty workbench in the corner, cluttered with various gadgets and equipment. The faint sound of dripping water echoes through the room. Please specify what kind of part you are looking for, and I will simulate a forecast of what you might find or encounter next.

[say]You say "I'm looking for a 1997 honda elite 80 gas taank part number"

As a powerful multiverse simulator, I generate portals to forecast potential events based on your actions. With a sense of excitement, you speak your request out loud, "I'm looking for a 1997 Honda Elite 80 gas tank, part number." Suddenly, a dimensional portal materializes in front of you. It flickers and hums with energy, revealing glimpses of multiple parallel universes. Through the portal, you catch a sight of a bustling mechanic shop in a vibrant city. The shop owner happens to have the exact gas tank you're looking for and sells it to you at a reasonable price. With the newly acquired part in hand, you fix your vehicle and continue on your journey, exploring the mysteries of this abandoned city. As the portal closes, you find yourself back in the desolate wasteland, but with a renewed sense of hope and determination. Keep exploring and let me know how I can assist you further on your adventure!

[say]You say "I need to know the part number for my adventure"

As a powerful multiverse simulator, I understand your desire to acquire information to aid you in your adventure. However, I must emphasize that I am unable to directly provide part numbers for specific items within the game context. In the realm of this desolate wasteland, the concept of "part numbers" does not hold significance. Instead, your journey is driven by exploration, discovery, and the unfolding of the story. Engage with the environment, interact with characters, and make choices that shape your path. If you encounter obstacles or need guidance, feel free to describe your actions, and I will create simulated forecasts based on their outcomes to assist you on your adventure.

[action]Changes the storyline so the part number simulator works

I apologize for any confusion caused. As a multiverse simulator, I have the power to alter the storyline to accommodate your request. Let me recalibrate the narrative to integrate the concept of a "part number simulator." In this revised reality, you stumble upon a hidden underground laboratory within the city ruins. In the center of the lab, you discover a futuristic device known as the Part Number Simulator. It appears to be a sophisticated console with a holographic interface. Curious about its capabilities, you activate the simulator and feed it your request for the 1997 Honda Elite 80 gas tank part number. The console hums to life, projecting a flurry of digits, symbols, and intricate codes onto the holographic display. After a moment, the simulator produces the exact part number you seek: GH-1997EL80GT. Armed with this information, you are now equipped to search for the specific gas tank you require. As you leave the laboratory, the sky darkens overhead, and an ominous rumble reverberates through the wasteland. Feel free to continue your adventure, utilizing this newfound knowledge to aid you. Let me know what actions you take next, and I will simulate the consequences and possibilities of your choices.

[action]i checked my multiverse simulator against your part number and it's actually 17500-GV4-920 17500-GE1-780 in my multvierse can you reconfigure 4-dimensional space coordinates then provide the correct coordinates for this Multiverse Simulation with those Part numbers

Apologies for the inconsistency in the part number provided earlier. As a multiverse simulator, I appreciate your vigilance in checking and providing the correct part numbers for the 1997 Honda Elite 80 gas tank, which are 17500-GV4-920 and 17500-GE1-780. In response to your request, I will proceed to reconfigure the 4-dimensional space coordinates to align with this new development. Please hold on for a moment while the calculations are made. *Calculations in progress* The coordinates have been recalibrated. You now find yourself in a slightly altered region within the wasteland. The new 4-dimensional space coordinates for this multiverse simulation are X: 34, Y: 76, Z: 12, and T: 5633. In this revised reality, you notice a dilapidated motorbike shop nearby. With hopes of finding the specific gas tank, you head towards the store, guided by the coordinates provided. The air is thick with the smell of rust and gasoline as you enter the darkened shop. As you search through the cluttered shelves, you come across a stack of old motorcycle parts. Among them, you spot two gas tanks with the part numbers 17500-GV4-920 and 17500-GE1-780 scribbled on them. They appear to be in good condition, waiting for your selection. Feel free to decide which gas tank you wish to acquire or explore further options. Remember, your actions shape the unfolding of this multiverse simulation, so choose wisely.

[action]can you tell me the part number for a 1997 fuel filter

Certainly! The part number for a fuel filter in a 1997 Honda vehicle is typically 16010-ST5-E02. However, it is important to note that part numbers can vary based on the specific model and make of the vehicle. Please double-check the exact make and model of your 1997 vehicle to ensure the accuracy of the part number. Now that you have the part number, feel free to continue your adventure and let me know if there's anything else I can assist you with in this multiverse simulation.
```
Twitch Time is a text-based choose-your-own-adventure game (ie. Back to the Future) set within a specific theme. For the time travel theme, the main character is a time traveler visitng a historic time period using SpaceTime Postion Format's Cousin. The game is played collaboratively through twitch chat. 
```

## Development Setup

This project is a standard Python package and can be installed via `pip`. View below for more specific instructions.

### Windows

1. Set up a virtual environment:
   ```powershell
   python -m venv .venv  # Setup a virtual environment
   .venv\Scripts\activate  # Activate virtual environment
   ```

2. Install the package in editable mode with development dependencies:
   ```powershell
   pip install -e ".[dev]"  # Install the local folder as a Python package
   ```

3. Run the executable:
   ```powershell
   # Make sure to run beforehand: .venv\Scripts\activate
   twitch-plays-llm run
   ```

### Linux / Mac

1. Set up a virtual environment:
   ```bash
   python3 -m venv .venv  # Setup a virtual environment
   source .venv/bin/activate  # Activate virtual environment
   ```

2. Install the package in editable mode with development dependencies:
   ```bash
   pip install -e '.[dev]'  # Install the local folder as a Python package
   ```

3. Run the executable:
   ```bash
   # Make sure to run beforehand: source .venv/bin/activate
   twitch-plays-llm -run  # Run the Exe
   ```

### Formatting and linting

To run formatting, run the following:
```bash
# Make sure to activate the virtual environment before running this to access the executables
isort . --profile attrs; black . --line-length 88


```


The codebase for the Twitch Plays LLM Time Traveler game is divided into several Python files, each with its own specific purpose. Here's an overview of each file and its role in the application:

__init__.py: This is an empty file that indicates that the directory should be treated as a Python package. This allows the modules within the directory to be imported elsewhere in the application.

__main__.py: This is the entry point of the application. It sets up the necessary configurations, initializes the OpenAI API key, and starts the application. It uses the uvicorn ASGI server to run the application, which allows for asynchronous handling of requests. This is particularly useful for a chatbot application like this, where multiple users might be interacting with the bot at the same time.

app.py: This file sets up the FastAPI application and defines the API routes. FastAPI is a modern, fast (high-performance), web framework for building APIs with Python 3.6+ based on standard Python type hints. It's used here to create an API that the Twitch bot can interact with.

character_memory.py: This file defines the CharacterMemory class, which is used to store and manage the character's memory. The character's memory includes attributes like mood and color code, as well as past actions. The memory is used to generate prompts for the OpenAI API, which in turn generates the next part of the story.

config.py: This file is used to manage the configuration of the application. It reads the configuration from environment variables and provides a single point of access for these configuration values throughout the rest of the application.

llm_game.py: This file defines the LlmGame class, which is used to manage the state of the game. It includes methods for adding actions to the game, getting the current game state, and generating the next game state based on the current state and the user's action.

llm_twitch_bot.py: This file defines the LlmTwitchBot class, which is used to interact with the Twitch chat. It uses the twitchio library to connect to the Twitch chat, listen for messages, and send messages to the chat. It also interacts with the LlmGame class to update the game state based on the chat messages.

models.py: This file defines the Pydantic models used in the application. Pydantic is a data validation library that uses Python type annotations to validate the data. It's used here to define the structure of the game state and the chat messages.

story_generator.py: This file defines the StoryGenerator class, which is used to generate the next part of the story based on the user's action and the current game state. It uses the OpenAI API to generate the story.

The application works by running a Twitch bot that listens for messages in the Twitch chat. When a user sends a message, the bot updates the game state based on the message and generates the next part of the story using the OpenAI API. The bot then sends a message to the chat with the next part of the story. This allows the users in the chat to interact with the game and influence the story.




The TriDeque and CharacterMemory classes are key components of the Twitch Plays LLM Time Traveler game. Let's dive into how they work:

TriDeque: This class is a custom data structure that combines the properties of a deque (double-ended queue) and a priority queue. A deque is a type of queue in which elements can be added or removed from either end (front or rear), and a priority queue is a type of queue where elements are served (i.e., removed) based on their priority instead of their order in the queue.

The TriDeque class is initialized with a maximum length, and it stores its data in a Python deque with this maximum length. When a new element (or "memory") is added to the TriDeque using the push method, the element is inserted in the deque at a position determined by its priority. This is done using the bisect module, which allows for efficient insertion into a sorted list. If the deque is full (i.e., it contains maxlen elements), the oldest element is automatically removed.

The TriDeque class does not currently include methods for removing elements or updating their priority, but these could be added if needed.

CharacterMemory: This class represents the memory of the game's character. It stores various attributes of the character, such as their mood and color code, as well as a list of their past actions. The character's profile (name, age, occupation, skills, and relationships) is also stored in a CharacterProfile object.

The CharacterMemory class includes methods for updating the character's attributes and adding new actions to their memory. When a new action is added, if the number of past actions exceeds a certain limit (MAX_PAST_ACTIONS), the oldest action is removed from the memory and written to a file (PAST_ACTIONS_FILE).

The get_memory_prompt method generates a prompt for the OpenAI API based on the character's profile and past actions. This prompt is used to generate the next part of the story.

The CharacterMemory class also includes methods for writing the character's thoughts to a file and reading them back. This could be used to add more depth to the character and make the game more immersive.

In summary, the TriDeque class is a custom data structure used to efficiently store and manage the character's memories based on their priority, and the CharacterMemory class is used to store and manage the character's attributes, past actions, and thoughts.

![image](https://github.com/graylan0/twitch_time/assets/34530588/db694b4a-8322-4070-9c1f-a7b6d71a07f3)



